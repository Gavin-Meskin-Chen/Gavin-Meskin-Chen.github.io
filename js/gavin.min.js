function percent(){let a=document.documentElement.scrollTop||window.pageYOffset,b=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-document.documentElement.clientHeight,result=Math.round(a/b*100),btn;result<=99||(result=99),document.querySelector("#percent").innerHTML=result}window.onscroll=percent,document.getElementById("page-name").innerText=document.title.split(" | 参星阁")[0];var ctrl={switchDarkMode:function(){const nowMode="dark"===document.documentElement.getAttribute("data-theme")?"dark":"light";"light"===nowMode?(activateDarkMode(),saveToLocal.set("theme","dark",2),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)):(activateLightMode(),saveToLocal.set("theme","light",2),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.night_to_day)),"function"==typeof utterancesTheme&&utterancesTheme(),"function"==typeof changeGiscusTheme&&changeGiscusTheme(),"object"==typeof FB&&window.loadFBComment(),"function"==typeof runMermaid&&window.runMermaid()},showConsole:function(){document.querySelector("#console").classList.add("show"),ctrl.initConsoleState()},hideConsole:function(){document.querySelector("#console").classList.remove("show")},ircShowHide:function(){const irc=document.querySelector(".aplayer-lrc-hide");null===irc?(document.querySelector(".aplayer-lrc").classList.add("aplayer-lrc-hide"),document.querySelector("#ircItem").classList.remove("on")):(document.querySelector(".aplayer-lrc").classList.remove("aplayer-lrc-hide"),document.querySelector("#ircItem").classList.add("on"))},hideAsideBtn:()=>{const $htmlDom=document.documentElement.classList;$htmlDom.contains("hide-aside")?(saveToLocal.set("aside-status","show",2),document.querySelector("#asideItem").classList.remove("on")):(saveToLocal.set("aside-status","hide",2),document.querySelector("#asideItem").classList.add("on")),$htmlDom.toggle("hide-aside")},settingsOpen:function(){alert("开发中...敬请期待！")},initConsoleState:function(){const irc=document.querySelector(".aplayer-lrc-hide");null===irc?document.querySelector("#ircItem").classList.add("on"):document.querySelector("#ircItem").classList.remove("on"),"hide"===saveToLocal.get("aside-status")?document.querySelector("#asideItem").classList.add("on"):document.querySelector("#asideItem").classList.remove("on")}};function owoBig(){let flag=1,owo_time="",m=3,div=document.createElement("div"),body=document.querySelector("body"),observer;div.id="owo-big",body.appendChild(div),new MutationObserver(mutations=>{for(let i=0;i<mutations.length;i++){let dom=mutations[i].addedNodes,owo_body="";2==dom.length&&"OwO-body"==dom[1].className&&(owo_body=dom[1],document.body.clientWidth<=768&&owo_body.addEventListener("contextmenu",e=>e.preventDefault()),owo_body.onmouseover=e=>{flag&&"IMG"==e.target.tagName&&(flag=0,owo_time=setTimeout(()=>{let height=3*e.path[0].clientHeight,width=3*e.path[0].clientWidth,left=e.x-e.offsetX-(width-e.path[0].clientWidth)/2,top=e.y-e.offsetY;left+width>body.clientWidth&&(left-=left+width-body.clientWidth+10),left<0&&(left=10),div.style.cssText=`display:flex; height:${height}px; width:${width}px; left:${left}px; top:${top}px;`,div.innerHTML=`<img src="${e.target.src}">`},300))},owo_body.onmouseout=()=>{div.style.display="none",flag=1,clearTimeout(owo_time)})}}).observe(document.getElementById("post-comment"),{subtree:!0,childList:!0})}function colorHex(str){var reg=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,that=str;if(/^(rgb|RGB)/.test(that)){for(var aColor=that.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),strHex="#",i=0;i<aColor.length;i++){var hex=Number(aColor[i]).toString(16);"0"===hex&&(hex+=hex),strHex+=hex}return 7!==strHex.length&&(strHex=that),strHex}if(!reg.test(that))return that;var aNum=that.replace(/#/,"").split("");if(6===aNum.length)return that;if(3===aNum.length){for(var numHex="#",i=0;i<aNum.length;i+=1)numHex+=aNum[i]+aNum[i];return numHex}}function colorRgb(str){var reg=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,sColor=str.toLowerCase();if(sColor&&reg.test(sColor)){if(4===sColor.length){for(var sColorNew="#",i=1;i<4;i+=1)sColorNew+=sColor.slice(i,i+1).concat(sColor.slice(i,i+1));sColor=sColorNew}for(var sColorChange=[],i=1;i<7;i+=2)sColorChange.push(parseInt("0x"+sColor.slice(i,i+2)));return"rgb("+sColorChange.join(",")+")"}return sColor}function RandomColor(){this.r=Math.floor(255*Math.random()),this.g=Math.floor(255*Math.random()),this.b=Math.floor(255*Math.random()),this.color="rgba("+this.r+","+this.g+","+this.b+",0.8)"}document.getElementById("post-comment")&&owoBig();